language: generic
matrix:
    include:
      - os: linux
        dist: xenial
        sudo: false
      - os: osx
addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake
      - cmake-data
      - python-dev
      - python-all
      - python-all-dev
      - python-gevent
      - python-greenlet
      - python-minimal
      - python-msgpack
      - python-wheel
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then pip install conan; else pip install --user conan; fi
  - conan remote add libtorrent https://api.bintray.com/conan/rllola80/Libtorrent
install:
  - conan install --build=missing .
  - conan build .
script:
  - python test.py
